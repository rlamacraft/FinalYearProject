<template id="itemize_template">
  <style>
  :host {
    position: absolute;
    top: 20vh;
    left: 0;
    right: 0;
    transition: var(--transition-animation);
  }
  ::content ul {
    padding-left: 10vw;
  }
  ::content li {
    color: var(--font-color, #1a1a1a);
    font-family: var(--font-family,"roboto", sans-serif);
    font-weight: var(--font-weight, 300);
    font-size: var(--font-size, 3vw);
    margin-bottom: var(--item-spacing, 5vh);
  }
  ::content pres-itemize, ::content pres-enumerate {
    position: initial;
  }
  </style>
  <slot name="content">
</template>

<script>
  splitText = (component) => {
    if(component.querySelector('ul[slot="content"]') === null) {
      let out = "";
      let validChildren = component.querySelector('span[slot="content"]').childNodes;
      Array.from(validChildren).forEach((eachLine) => {
        if(eachLine.nodeName === "SPAN")
          out += `<li>${eachLine.outerHTML}</li>`;
        else
          out += eachLine.outerHTML;
      });
      component.innerHTML = `<ul slot="content">${out}</ul>`;
    }
  }

  onStart = (component) => {
    splitText(component);
  }

  RegisterComponent("itemize", {
    onStart: onStart
  });
</script>
